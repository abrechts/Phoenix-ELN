

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Standard Edition 7.7.0.519">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Registration Script</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Registration Script">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Registration Script" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Espresso ELN Help" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  <style type="text/css">.main-content{
    max-width: 780px;
    margin-left: 3px;
}
#topic-content{
 margin-left: 17px;
}</style>



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Espresso ELN Help</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="2"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="BatchInterface"
		  data-hnd-context="49"
		  data-hnd-title="Registration Script"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="BatchRegistration.html">External Batch Registration</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="BatchRegistration.html" title="External Batch Registration" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="BatchRegistration.html" title="External Batch Registration" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="AboutSAC.html" title="Server Access Control (SAC)" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Registration Script</h2>

            <div class="main-content">
                
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<h1 class="rvps52"><span class="rvts0"><span class="rvts67">Introduction and Requirements</span></span></h1>
<p class="rvps2"><span class="rvts33">This topic is aimed at developers implementing the interface between</span><span class="rvts53"> Espresso ELN</span><span class="rvts33"> and a third party product batch registration system. ELN users can skip this section.&nbsp;</span></p>
<p class="rvps47"><span class="rvts33">The product batch registration interface of </span><span class="rvts53">Espresso ELN</span><span class="rvts33"> consists of a single server script to be adapted to a third party registration system. The ELN calls the individual script functions based on user actions, supplying all required data for performing the requested task. The developer-inserted third party registration system API calls (see yellow code sections below) then consume the provided data and return a result, which finally is transferred back to the ELN. The insertion of as little as three lines of code is required for this. A fully documented sample PHP script can be </span><a class="rvts18" href="https://chembytes.com/downloads/Espresso/BatchRegInterface.zip">downloaded here</a><span class="rvts33">.&nbsp;</span></p>
<p class="rvps8"><span class="rvts33">To be able to utilize this interface, your registration system must expose a public API containing following basic functionalities, which can be called by a server script:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6"><span class="rvts71">Create Batch</span><span class="rvts33">: A new batch is registered. The auto-generated batch-ID must be returned immediately by the function (the ELN is waiting for the response). Sending the request to a staging area for later human processing is not supported.</span></li>
 <li class="rvps6"><span class="rvts71">Update Batch</span><span class="rvts33">: The properties of an existing batch are updated. Immediate return of success/failure status is preferred.</span></li>
 <li class="rvps2"><span class="rvts71">Delete Batch</span><span class="rvts33">: An existing batch is deleted. Immediate return of success/failure status is preferred.</span></li>
</ul>
<p class="rvps46"><span class="rvts33">Business logic and validation are performed by the third party system, which is considered as a black box returning the resulting batch-ID and/or the status of the other operations. If the third party API should not be fully documented, or if you are uncertain about its implementation, you might need to consult its vendor.</span></p>
<h1 class="rvps52"><span class="rvts0"><span class="rvts67">Interface Script Path</span></span></h1>
<p class="rvps2"><span class="rvts33">Place the interface script on a server with straightforward access to your batch registration system, as well as to all ELN users. The server must have at least PHP 7 installed if utilizing a PHP script. The ELN obtains the path to the script either via the corresponding global ELN Admin Tool </span><a class="rvts18" href="Policies.html">policy setting</a><span class="rvts33"> ('Product Batch Registration') or via the local </span><a class="rvts18" href="PoliciesIntro.html">application settings</a><span class="rvts33"> ('Batch Registration script URL'). For </span><span class="rvts53">testing</span><span class="rvts33">, it is highly recommended to disconnect the test clients from the server and to utilize their </span><span class="rvts53">local</span><span class="rvts33"> settings for specifying the script path, instead of a global assignment via ELN Admin Tool. This ensures that the batch registration interface elements don't become visible to all ELN users while testing.</span></p>
<h1 class="rvps52"><span class="rvts0"><span class="rvts67">Registration System Info</span></span></h1>
<p class="rvps8"><span class="rvts33">The ELN requires some basic information about the third party registration system for providing appropriate responses. In the code sections below, the areas highlighted in yellow mark the parts where modifications by system-specific code are required. The other parts of the script should remain unchanged for granting the expected behavior:</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts86">function GetRegistrationInfo</span><span class="rvts82">(){</span></p>
<p class="rvps2"><span class="rvts82"><br/></span></p>
<p class="rvps2"><span class="rvts82">&nbsp; // Modify according to your registration system</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; $isStructureBased =</span><span class="rvts84"> true;</span><span class="rvts91"> &nbsp;</span><span class="rvts82">// Set to true if the generated batch-ID's are structure-based</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; $useSDFileOnly =</span><span class="rvts85"> </span><span class="rvts84">false</span><span class="rvts85">;</span><span class="rvts90"> &nbsp; &nbsp;</span><span class="rvts82">// Set to true if your registration system API can process SDFiles only</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; // ------------------</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6"><span class="rvts70">$isStructureBased</span><span class="rvts33">: Set this variable to </span><span class="rvts87">true</span><span class="rvts33">, if the generated batch-IDs are structure-based, i.e. of the form prefix-structureNumber-batchNumber. Most systems will generate IDs of this form, where ID's of the same structure only differ by their incremental batch number. If </span><span class="rvts87">true</span><span class="rvts33">, the modification of the structure of an already registered batch will cause a user warning allowing to cancel to operation. If continued anyway, a the registration system is requested to delete the batch, since batch-ID and structure become mismatched. - If the variable is set </span><span class="rvts87">false</span><span class="rvts33">, the batch ID is independent from the structure and the batch will be silently updated after structure modification.</span></li>
 <li class="rvps2"><span class="rvts70">$useSDFileOnly</span><span class="rvts33">: The ELN passes all available product property information to the script (see next topic). Set this variable to </span><span class="rvts87">true</span><span class="rvts33">, if your registration systems only can handle SDFiles as data input. Otherwise set it to </span><span class="rvts87">false</span><span class="rvts33">, which provides more flexibility for handling the individual parameters.&nbsp;</span></li>
</ul>
<h1 class="rvps52"><span class="rvts0"><span class="rvts67">Register/Update a Batch</span></span></h1>
<p class="rvps2"><span class="rvts33">When requesting a batch registration or update, the ELN passes all available product properties to the interface script in JSON format. All properties not annotated as '(can be unspecified)' are guaranteed to contain values. Here's how the passed properties can be retrieved from the deserialized JSON payload (PHP):</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts82">&nbsp;</span><span class="rvts83">$updateBatchID = $prodInfo -&gt; UpdateBatchID; &nbsp;// batch-ID if updating, empty string if creating batch</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$molfile = $prodInfo -&gt; Molfile; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// product molfile</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$experimentID = $prodInfo -&gt; ExperimentID; &nbsp; &nbsp;// the unique ID of the experiment producing the batch&nbsp;</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$molweight = $prodInfo -&gt; MW; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // product molecular weight</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$inchiKey=$prodInfo -&gt; InChIKey; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// the InChIKey of the product</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$elemental = $prodInfo -&gt; EF; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // elemental formula of the product</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$author = $prodInfo -&gt; Author; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// unique ID of the person producing the batch</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$purity = $prodInfo -&gt; Purity; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// batch purity in percent</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$grams = $prodInfo -&gt; Grams; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// the batch amount, scaled to grams</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$amount = $prodInfo -&gt; Amount; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// user specified batch amount</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$unit = $prodInfo -&gt; &nbsp;Unit; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // user specified batch unit ('mg', 'g', or 'kg')</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$projName = $prodInfo -&gt; ProjectName; &nbsp; &nbsp; &nbsp; &nbsp; // project name</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$physForm = &nbsp;$prodInfo -&gt; PhysicalForm; &nbsp; &nbsp; &nbsp; // will be 'liquid', 'solid', 'crystals', 'oil', 'gum', 'foam' or</span></p>
<p class="rvps2"><span class="rvts83">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//'unspecified'</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$ee = $prodInfo -&gt; EE; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// enantimeric excess (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$de = $prodInfo -&gt; DE; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// diastereomeric excess (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$mp_upper = $prodInfo -&gt; MP_Upper; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// upper limit of the melting point range (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$mp_lower = $prodInfo -&gt; MP_Lower; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// lower limit of the melting point range (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$bp_upper = &nbsp;$prodInfo -&gt; BP_Upper; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // upper limit of the boiling point range (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$bp_lower = &nbsp;$prodInfo -&gt; BP_Lower; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // lower limit of the boiling point range (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$bp_pressure = &nbsp;$prodInfo -&gt; BP_Pressure; &nbsp; &nbsp; // boiling point pressure in mbar (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$color = &nbsp;$prodInfo -&gt; Color; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // color of the batch (can be unspecified)</span></p>
<p class="rvps2"><span class="rvts83">&nbsp;$resinLoad = &nbsp;$prodInfo -&gt; ResinLoad; &nbsp; &nbsp; &nbsp; &nbsp; // resin load in percent, if attached to a resin (can be unspecified)</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps6"><span class="rvts33">If </span><span class="rvts70">$useSDFileOnly</span><span class="rvts33"> (see above) is set to </span><span class="rvts87">false</span><span class="rvts33">, then the individual product properties as listed above are available. - If set to </span><span class="rvts87">true</span><span class="rvts33">, however, above variables contain no values. Instead, the script variable </span><span class="rvts70">$SDFileStr</span><span class="rvts33"> contains all properties as a single string in SDFile format. This variable contains no value if </span><span class="rvts53">$useSDFileOnly</span><span class="rvts33"> is set to </span><span class="rvts87">false</span><span class="rvts33">.</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps6"><span class="rvts33">&nbsp;</span><span class="rvts82">$SDFileStr = $prodInfo -&gt; SDFile;</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps20"><span class="rvts92">Implement Batch Create/Update</span></p>
<p class="rvps20"><span class="rvts33">Some or all of above product properties may serve as input parameters for the actual </span><span class="rvts53">Create</span><span class="rvts33"> or </span><span class="rvts53">Update</span><span class="rvts33"> API calls of your batch registration system. Please consult its vendor in case of any uncertainties about their implementation. Replace the lines ' // ....' in the script by the individual API call(s). When done, it is also important to assign the correct response codes to provide feedback to the ELN about the outcome, which in turn will inform the user accordingly. Please note that the </span><span class="rvts53">creation</span><span class="rvts33"> of a new batch entry is required to be </span><span class="rvts53">immediate</span><span class="rvts33">, since the ELN waits for the returned batch-ID. For batch </span><span class="rvts53">updates,</span><span class="rvts33"> delayed processing e.g. due to transfer into a staging area, is acceptable (response code 202). &nbsp;</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts88">&nbsp;</span><span class="rvts82"> </span><span class="rvts83">if($isUpdating == false){</span></p>
<p class="rvps2"><span class="rvts83"><br/></span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; // Your API call(s) for </span><span class="rvts89">CREATING</span><span class="rvts82"> a new product batch based on above product data</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; </span><span class="rvts85">// ........</span></p>
<p class="rvps2"><span class="rvts85"><br/></span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; $batchID =</span><span class="rvts85"> 'myBatchID';</span><span class="rvts82"> &nbsp; &nbsp;// replace this by the actually created batch ID</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; http_response_code</span><span class="rvts85">(201);</span><span class="rvts82"> &nbsp; // 201: The batch was successfully created (action must be immediate)</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 400: An error was returned by the registration API, the action failed. &nbsp;</span></p>
<p class="rvps2"><span class="rvts82">&nbsp;</span><span class="rvts83"> } else {</span></p>
<p class="rvps2"><span class="rvts82"><br/></span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; // Your API call(s) for </span><span class="rvts89">UPDATING</span><span class="rvts82"> the product batch specified by $updateBatchID based on above product data&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; </span><span class="rvts85">// .........</span></p>
<p class="rvps2"><span class="rvts82"><br/></span></p>
<p class="rvps2"><span class="rvts82">&nbsp;&nbsp;</span><span class="rvts83"> &nbsp;$batchID = $updateBatchID; &nbsp;</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; http_response_code</span><span class="rvts85">(201)</span><span class="rvts82">; &nbsp; // 201: The batch was immediately updated.</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 202: An update request was placed to a staging area for later processing.&nbsp;</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 400: An error was returned by the registration API, the action failed. &nbsp;</span></p>
<p class="rvps2"><span class="rvts82">&nbsp; }</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts33">Please note that </span><span class="rvts57">$updateBatchID</span><span class="rvts33"> contains an empty string when creating a new batch. When updating, it contains the ID of the batch to be updated.</span></p>
<h1 class="rvps52"><span class="rvts0"><span class="rvts67">Delete a Batch</span></span></h1>
<p class="rvps2"><span class="rvts33">When the ELN requests a batch delete operation, it passes the batch-ID of the entry to be deleted, the cancel reason and other other relevant information:</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps29"><span class="rvts83">$batchID = $cancelInfo -&gt; BatchID; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// ID of the batch to be deleted&nbsp;</span></p>
<p class="rvps29"><span class="rvts83">$cancelReason = $cancelInfo -&gt; CancelReason; &nbsp;// reason for deletion ('user_revoked', 'product_deleted'</span></p>
<p class="rvps29"><span class="rvts83">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 'structure_deleted' or 'structure_modified')&nbsp;</span></p>
<p class="rvps29"><span class="rvts83">$author = $cancelInfo -&gt; Author; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// requesting user (full name) &nbsp;&nbsp;</span></p>
<p class="rvps29"><span class="rvts83">$userID = $cancelInfo -&gt; UserID; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// userID of the requesting user</span></p>
<p class="rvps29"><span class="rvts83">$experimentID = $cancelInfo -&gt; ExperimentID; &nbsp;// experimentID the product batch belongs to</span></p>
<p class="rvps29"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps29"><span class="rvts82">// Add here your API call(s) for deleting a product batch.</span></p>
<p class="rvps29"><span class="rvts85">// ....................</span></p>
<p class="rvps29"><span class="rvts85"><br/></span></p>
<p class="rvps29"><span class="rvts82">http_response_code</span><span class="rvts85">(201)</span><span class="rvts82">; &nbsp; // 201: The batch was deleted immediately.</span></p>
<p class="rvps29"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 202: A delete request was placed to a staging area and will be processed later.</span></p>
<p class="rvps29"><span class="rvts82">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 400: An error was returned by the registration API, the action failed.&nbsp;</span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts33">The fully documented sample PHP script can be </span><a class="rvts18" href="https://chembytes.com/downloads/Espresso/BatchRegInterface.zip">downloaded here</a><span class="rvts33">.</span></p>
<p class="rvps2"><span class="rvts33"><br/></span></p>
<p class="rvps2"><span class="rvts33"><br/></span></p>
<p class="rvps2"><span class="rvts33"><br/></span></p>
<p class="rvps2"><span class="rvts33"></span><span class="rvts6"></span></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">(c) ChemBytes, Switzerland</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.2/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

